<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animierte Punkte</title>
  <style>
    body {
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background-color: #f0f0f0;
    }

    .slider-container {
      margin-bottom: 20px;
      text-align: center;
    }

    .slider-container label {
      font-family: Arial, sans-serif;
      margin-right: 10px;
    }

    .slider-container input {
      width: 300px;
    }

    .grid-item {
      position: relative;
      width: 400px;
      height: 400px;
      background-color: #ddd;
      border: 1px solid #ccc;
      overflow: hidden;
    }

    svg {
      width: 100%;
      height: 100%;
    }

    .dot {
      fill: red;
      animation: move-dot 5s linear infinite;
      opacity: 0; /* Standardmäßig unsichtbar */
    }

    @keyframes move-dot {
      0% {
        transform: translate(0%, 0%);
      }
      100% {
        transform: translate(100%, 100%);
      }
    }
  </style>
</head>
<body>
  <div class="slider-container">
    <label for="dot-slider">Sichtbare Punkte:</label>
    <input id="dot-slider" type="range" min="0" max="100" value="10" />
    <span id="dot-count">10</span>
  </div>

  <div class="grid-item">
    <svg id="dot-container" viewBox="0 0 100 100"></svg>
  </div>

  <script>
    // Elemente holen
    const slider = document.getElementById('dot-slider');
    const dotCountDisplay = document.getElementById('dot-count');
    const dotContainer = document.getElementById('dot-container');

    // 100 Punkte erzeugen und animieren
    function createDots() {
      for (let i = 0; i < 100; i++) {
        const cx = Math.random() * 100; // Zufällige Startposition
        const cy = Math.random() * 100;

        const duration = (Math.random() * 3 + 2).toFixed(2); // Zufällige Dauer zwischen 2s und 5s
        const delay = (Math.random() * 2).toFixed(2); // Zufälliger Startzeitpunkt

        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        circle.setAttribute('cx', cx);
        circle.setAttribute('cy', cy);
        circle.setAttribute('r', 2);
        circle.setAttribute('class', 'dot');
        circle.style.animationDuration = `${duration}s`;
        circle.style.animationDelay = `${delay}s`;
        dotContainer.appendChild(circle);
      }
    }

    // Sichtbarkeit der Punkte steuern
    function updateVisibleDots(count) {
      const dots = document.querySelectorAll('.dot');
      dots.forEach((dot, index) => {
        dot.style.opacity = index < count ? '1' : '0'; // Sichtbar oder unsichtbar
      });
    }

    // Event-Listener für den Slider
    slider.addEventListener('input', (e) => {
      const count = parseInt(e.target.value, 10);
      dotCountDisplay.textContent = count; // Sichtbare Punktzahl anzeigen
      updateVisibleDots(count);
    });

    // Punkte erstellen und initiale Sichtbarkeit setzen
    createDots();
    updateVisibleDots(slider.value);
  </script>
</body>
</html>